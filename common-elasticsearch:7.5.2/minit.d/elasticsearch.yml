name: render-config
kind: render
files:
  - /opt/elasticsearch/config/jvm.options
  - /opt/elasticsearch/config/elasticsearch.yml
---
name: init-config-analysis-ik
kind: once
dir: /opt/elasticsearch/config
command:
  - dir-init-if-needed
  - analysis-ik.origin
  - analysis-ik
---
name: ensure-logs-dir
kind: once
command:
  - mkdir
  - -p
  - /data/logs
---
name: elasticsearch
kind: daemon
dir: /opt/elasticsearch
command:
  - ./bin/elasticsearch