name: render-broker-conf
kind: render
files:
  - /opt/rocketmq/conf/broker.conf
---
name: create-dirs
kind: once
command:
  - mkdir
  - -p
  - $RMQCFG_storePathCommitLog
  - $RMQCFG_storePathConsumerQueue
---
name: mqbroker
kind: daemon
dir: /opt/rocketmq
command:
  - java-wrapper
  - -cp
  - .:conf:lib/*
  - org.apache.rocketmq.broker.BrokerStartup